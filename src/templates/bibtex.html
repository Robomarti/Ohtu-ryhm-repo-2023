{% extends "layout.html" %}
{% block content %}


    <div class="content" id="content-beginning">
        <h1>References in BibTeX format</h1>
    
        <p>Below is a list of the references you have saved.</p>
    
        <p>You can change the view format to text, or download your reference list as a .bib file.
        </p>
    
        <form action="/view_sources" method="POST">
            <button type="submit" name="change_view_button" class="visible-button" value="Text">View as text</button>
        </form>
        <a href="/download_references" class="button-link"><button class="visible-button">Download File</button></a>
        
    </div>


    <div class="content" id="articles">
    <h2>Articles</h2>

    {% if bibtex_articles is none %}
    <p>Error retrieving data from the database.</p>
    {% elif not bibtex_articles %}
    <p>You don't have any saved articles.</p>
    {% else %}

    
    {% for bibtex_article in bibtex_articles %}
    <div class="box">
        <div class="source">
        <pre>{{ bibtex_article[0]}}</pre><br>
        </div>

        <div class="buttons">
            <form method="post" action="/delete_article/{{ bibtex_article[1] }}">
                <button type="submit" class="disappearing-button">
                    Delete
                </button>
            </form>
        </div>
    </div>
    {% endfor %}
    {% endif %}
</div>


<div class="content" id="books">
    <h2>Books</h2>
    {% if bibtex_books is none %}
    <p>Error retrieving data from the database.</p>
    {% elif not bibtex_books %}
    <p>You don't have any saved books.</p>
    {% else %}

    {% for bibtex_book in bibtex_books %}
    <div class="box">
        <div class="source">
        <pre>{{ bibtex_book[0] }}</pre><br>
        </div>

        <div class="buttons">
            <form method="post" action="/delete_book/{{ bibtex_book[1] }}">
                <button type="submit" class="disappearing-button">
                    Delete
                </button>
            </form>
        </div>
    </div>
    {% endfor %}
    {% endif %}
</div>

<div class="content" id="inproceedings">
    <h2>Inproceedings</h2>
    {% if bibtex_inproceedings is none %}
    <p>Error retrieving data from the database.</p>
    {% elif not bibtex_inproceedings %}
    <p>You don't have any saved inproceedings.</p>
    {% else %}

    {% for bibtex_inproceeding in bibtex_inproceedings %}
    <div class="box">
        <div class="source">
        <pre>{{ bibtex_inproceeding[0] }}</pre><br>
        </div>
        <div class="buttons">
        <form method="post" action="/delete_inproceeding/{{ bibtex_inproceeding[1]}}">
            <button type="submit" class="disappearing-button">
                Delete
            </button>
        </form>
        </div>
    </div>
    {% endfor %}
    {% endif %}
</div>

<div class="content" id="content-end">
</div>
{% endblock %}
